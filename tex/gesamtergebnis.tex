\chapter{Gesamtergebnis \small{(Stach \& Schmeling)}}

\section{Vergleich der Crawler}
Ein Teil des ersten Lernziels war es, die entwickleten Crawler zu vergleichen.
In der Folge wird dies gemacht, dabei wird Unterschieden zwischen
planerischen, implementierungs-relevanten und ergebnis-orientierten Aspekten.


\subsection{Planung}

\begin{tabular}{l}
	Waren Bibliotheken/Frameworks leicht zu finden? \\
	(Höherer Wert = trifft eher zu)                 \\
	\begin{tabular}{| l | c | c | c | c | c | c | c | c | c | c |}
		\hline
		Sprache    & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
		\hline
		Python     &   &   &   &   &   &   &   & X &   &   \\
		\hline
		Rust       &   &   &   & X &   &   &   &   &   &   \\
		\hline
		Javascript &   &   &   &   &   &   &   &   & X &   \\
		\hline
	\end{tabular}
\end{tabular}

\begin{tabular}{l}
	Gibt es viele Bibliotheken/Frameworks, aus denen man wählen kann? \\
	(Höherer Wert = trifft eher zu)                                   \\
	\begin{tabular}{| l | c | c | c | c | c | c | c | c | c | c |}
		\hline
		Sprache    & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
		\hline
		Python     &   &   &   & X &   &   &   &   &   &   \\
		\hline
		Rust       &   & X &   &   &   &   &   &   &   &   \\
		\hline
		Javascript &   &   &   &   &   & X &   &   &   &   \\
		\hline
	\end{tabular}
\end{tabular}

\begin{tabular}{l}
	Gibt es viele Beispiele oder Tutorials für die Bibliotheken? \\
	(Höherer Wert = trifft eher zu)                              \\
	\begin{tabular}{| l | c | c | c | c | c | c | c | c | c | c |}
		\hline
		Sprache    & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
		\hline
		Python     &   &   &   &   &   &   &   & X &   &   \\
		\hline
		Rust       &   &   &   & X &   &   &   &   &   &   \\
		\hline
		Javascript &   &   &   &   &   &   &   & X &   &   \\
		\hline
	\end{tabular}
\end{tabular}

\begin{tabular}{l}
	Gibt es viele Beispiele oder Tutorials für den Crawler-Bau allgemein? \\
	(Höherer Wert = trifft eher zu)                                       \\
	\begin{tabular}{| l | c | c | c | c | c | c | c | c | c | c |}
		\hline
		Sprache    & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
		\hline
		Python     &   &   &   &   &   &   & X &   &   &   \\
		\hline
		Rust       &   & X &   &   &   &   &   &   &   &   \\
		\hline
		Javascript &   &   &   &   &   & X &   &   &   &   \\
		\hline
	\end{tabular}
\end{tabular}

\subsection{Implementierung}

\begin{tabular}{l}
	War die Nutzung der verwendeten Bibliotheken und Frameworks einfach? \\
	(Höherer Wert = trifft eher zu)                                      \\
	\begin{tabular}{| l | c | c | c | c | c | c | c | c | c | c |}
		\hline
		Sprache    & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
		\hline
		Python     &   &   &   &   &   &   &   &   & X &   \\
		\hline
		Rust       &   & X &   &   &   &   &   &   &   &   \\
		\hline
		Javascript &   &   &   &   &   &   &   &   & X &   \\
		\hline
	\end{tabular}
\end{tabular}

\begin{tabular}{l}
	Haben die Bibliotheken und Frameworks die erwartete Funktionalität bereitgestellt? \\
	(Höherer Wert = trifft eher zu)                                                    \\
	\begin{tabular}{| l | c | c | c | c | c | c | c | c | c | c |}
		\hline
		Sprache    & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
		\hline
		Python     &   &   &   &   &   &   &   &   &   & X \\
		\hline
		Rust       &   &   &   &   &   &   &   & X &   &   \\
		\hline
		Javascript &   &   &   &   &   &   &   &   &   & X \\
		\hline
	\end{tabular}
\end{tabular}

\begin{tabular}{l}
	Mussten viele Funktionalitäten manuell implementiert werden? \\
	(Höherer Wert = trifft eher zu)                              \\
	\begin{tabular}{| l | c | c | c | c | c | c | c | c | c | c |}
		\hline
		Sprache    & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
		\hline
		Python     &   & X &   &   &   &   &   &   &   &   \\
		\hline
		Rust       &   &   &   &   &   &   &   &   & X &   \\
		\hline
		Javascript &   &   & X &   &   &   &   &   &   &   \\
		\hline
	\end{tabular}
\end{tabular}

\begin{tabular}{l}
	War der Entwicklungsprozess insgesamt einfach? \\
	(Höherer Wert = trifft eher zu)                \\
	\begin{tabular}{| l | c | c | c | c | c | c | c | c | c | c |}
		\hline
		Sprache    & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\
		\hline
		Python     &   &   &   &   &   &   &   &   & X &   \\
		\hline
		Rust       &   &   & X &   &   &   &   &   &   &   \\
		\hline
		Javascript &   &   &   &   &   &   &   & X &   &   \\
		\hline
	\end{tabular}
\end{tabular}


\subsection{Ergebnis}

\begin{tabular}{| l | c | c | c | c | c | c | c | c | c | c |}
	\hline
	Sprache    & Laufzeit & Gefundene Berichte & Lines of Code\\
	\hline
	Python     & \makecell{2 Tage \\ (Anzahl der Requests \\ wurde limitiert auf  \\ Anfrage durch \\ die Serverbetreiber)} & 9964 &  \makecell{ca. 180 \\ selbst geschriebene  \\ (Die Spacy CLI legt \\ weitere Dateien mit vielen \\ Eintellungsmöglichkeiten an)} \\
	\hline
	Rust       & 5h 15min & 9964 & ca. 280 \\
	\hline
	Javascript & 3h 50min & 10106 & ca. 80 \\
	\hline
\end{tabular}


\section{Fazit}
Für den produktiven Einsatz unseres Crawlers haben wir uns für die in Python entwickelte Variante entschieden.
Das Scrapy Framework bietet bei weitem die meisten Möglichkeiten und ist leicht erweiterbar.
In JavaScript und Rust existieren zwar Libraries zum entwickeln eines Crawlers, ein komplettes Framework, was einem
viele Aufgabe abnehmen kann, existiert jedoch nicht.

Lezteres haben wir noch das Crawling mit dem Preprocessing vereint. Durch die Entwicklung einer PreProcessing-Pipeline
werden jetzt die Ergebnisse des Crawl-Vorgangs, bevor Sie in die Datenbank geschrieben werden, noch durch den von uns
entwickelten Preprocessing Algorithmus behandelt. Dadurch ergibt sich ein Endergebnis von ca. 10.000 gecrawlten und preprocessten
Polizeiberichten in der MongoDB. Folgend ein Beispiel eines Polizeiberichts:


\begin{minted}[xleftmargin=20pt,linenos,breaklines,fontsize=\small]{json}
{
  "_id": {
    "$oid": "5bf97a29ca8c53043dcabe4d"
  },
  "category": "Friedrichshain-Kreuzberg",
  "timestamp": {
    "$date": "2018-11-24T16:30:00.000+0000"
  },
  "title": "Auseinandersetzung zwischen zwei Gruppen",
  "url": "https://www.berlin.de/polizei/polizeimeldungen/pressemitteilung.760957.php",
  "text": "...",
  "text_pre_processed_v1": ["..."],
  "text_pre_processed_v2": [["..."]],
  "text_pre_processed_v3": [[0, 14, "..."]],
  "text_pre_processed_v4": [[[0, 14, "..."]]],
  "updated": {
    "$date": "2018-11-24T17:43:22.896+0000"
  },
  "created": {
    "$date": "2018-11-24T17:19:53.191+0000"
  }
}
\end{minted}
